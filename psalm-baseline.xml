<?xml version="1.0" encoding="UTF-8"?>
<files psalm-version="4.x-dev@">
  <file src="lib/AppInfo/Application.php">
    <DeprecatedClass occurrences="1">
      <code>$this-&gt;getContainer()</code>
    </DeprecatedClass>
    <InvalidArgument occurrences="2">
      <code>addServiceListener</code>
      <code>addServiceListener</code>
    </InvalidArgument>
    <MixedArgument occurrences="1">
      <code>Principal::class</code>
    </MixedArgument>
    <UndefinedClass occurrences="1">
      <code>Principal</code>
    </UndefinedClass>
  </file>
  <file src="lib/BackgroundJobs/ClassifierJob.php">
    <MixedArgument occurrences="1">
      <code>$rootId</code>
    </MixedArgument>
    <MixedAssignment occurrences="1">
      <code>$rootId</code>
    </MixedAssignment>
  </file>
  <file src="lib/BackgroundJobs/ClassifyFacesJob.php">
    <MissingParamType occurrences="1">
      <code>$argument</code>
    </MissingParamType>
    <MixedArgument occurrences="1">
      <code>$argument</code>
    </MixedArgument>
    <MoreSpecificImplementedParamType occurrences="1">
      <code>$files</code>
    </MoreSpecificImplementedParamType>
  </file>
  <file src="lib/BackgroundJobs/ClassifyImagenetJob.php">
    <MissingParamType occurrences="1">
      <code>$argument</code>
    </MissingParamType>
    <MixedArgument occurrences="1">
      <code>$argument</code>
    </MixedArgument>
    <MoreSpecificImplementedParamType occurrences="1">
      <code>$files</code>
    </MoreSpecificImplementedParamType>
  </file>
  <file src="lib/BackgroundJobs/ClassifyLandmarksJob.php">
    <MissingParamType occurrences="1">
      <code>$argument</code>
    </MissingParamType>
    <MixedArgument occurrences="1">
      <code>$argument</code>
    </MixedArgument>
    <MoreSpecificImplementedParamType occurrences="1">
      <code>$files</code>
    </MoreSpecificImplementedParamType>
  </file>
  <file src="lib/BackgroundJobs/ClassifyMovinetJob.php">
    <MissingParamType occurrences="1">
      <code>$argument</code>
    </MissingParamType>
    <MixedArgument occurrences="1">
      <code>$argument</code>
    </MixedArgument>
    <MoreSpecificImplementedParamType occurrences="1">
      <code>$files</code>
    </MoreSpecificImplementedParamType>
  </file>
  <file src="lib/BackgroundJobs/ClassifyMusicnnJob.php">
    <MissingParamType occurrences="1">
      <code>$argument</code>
    </MissingParamType>
    <MixedArgument occurrences="1">
      <code>$argument</code>
    </MixedArgument>
    <MoreSpecificImplementedParamType occurrences="1">
      <code>$files</code>
    </MoreSpecificImplementedParamType>
  </file>
  <file src="lib/BackgroundJobs/ClusterFacesJob.php">
    <MissingParamType occurrences="1">
      <code>$argument</code>
    </MissingParamType>
    <MixedArrayAccess occurrences="1">
      <code>$argument['userId']</code>
    </MixedArrayAccess>
  </file>
  <file src="lib/BackgroundJobs/SchedulerJob.php">
    <MissingParamType occurrences="1">
      <code>$argument</code>
    </MissingParamType>
    <MixedArrayAccess occurrences="1">
      <code>$argument['models']</code>
    </MixedArrayAccess>
  </file>
  <file src="lib/BackgroundJobs/StorageCrawlJob.php">
    <MixedMethodCall occurrences="1">
      <code>getFileId</code>
    </MixedMethodCall>
    <PossiblyUndefinedVariable occurrences="1">
      <code>$queueFile</code>
    </PossiblyUndefinedVariable>
  </file>
  <file src="lib/Classifiers/Audio/MusicnnClassifier.php">
    <InvalidScalarArgument occurrences="1">
      <code>time()</code>
    </InvalidScalarArgument>
  </file>
  <file src="lib/Classifiers/Classifier.php">
    <DocblockTypeContradiction occurrences="1">
      <code>$preview === false</code>
    </DocblockTypeContradiction>
    <MixedAssignment occurrences="1">
      <code>$results</code>
    </MixedAssignment>
    <PossiblyNullOperand occurrences="1">
      <code>$proc-&gt;getPid()</code>
    </PossiblyNullOperand>
    <RedundantCondition occurrences="1">
      <code>isset($dimensions)</code>
    </RedundantCondition>
    <UnusedFunctionCall occurrences="1">
      <code>json_decode</code>
    </UnusedFunctionCall>
  </file>
  <file src="lib/Classifiers/Images/ClusteringFaceClassifier.php">
    <InvalidScalarArgument occurrences="1">
      <code>time()</code>
    </InvalidScalarArgument>
    <MixedArgument occurrences="7">
      <code>$face['angle']['roll']</code>
      <code>$face['angle']['yaw']</code>
      <code>$face['height']</code>
      <code>$face['vector']</code>
      <code>$face['width']</code>
      <code>$face['x']</code>
      <code>$face['y']</code>
    </MixedArgument>
    <MixedArrayAccess occurrences="2">
      <code>$face['angle']['roll']</code>
      <code>$face['angle']['yaw']</code>
    </MixedArrayAccess>
  </file>
  <file src="lib/Classifiers/Images/ImagenetClassifier.php">
    <InvalidScalarArgument occurrences="1">
      <code>time()</code>
    </InvalidScalarArgument>
    <MixedArgument occurrences="2">
      <code>$queueFile</code>
      <code>$queueFile-&gt;getFileId()</code>
    </MixedArgument>
    <MixedAssignment occurrences="1">
      <code>$queueFile</code>
    </MixedAssignment>
    <MixedMethodCall occurrences="1">
      <code>getFileId</code>
    </MixedMethodCall>
  </file>
  <file src="lib/Classifiers/Images/LandmarksClassifier.php">
    <InvalidScalarArgument occurrences="1">
      <code>time()</code>
    </InvalidScalarArgument>
    <MixedArgument occurrences="1">
      <code>$queueFile-&gt;getFileId()</code>
    </MixedArgument>
    <MixedAssignment occurrences="1">
      <code>$queueFile</code>
    </MixedAssignment>
    <MixedMethodCall occurrences="1">
      <code>getFileId</code>
    </MixedMethodCall>
  </file>
  <file src="lib/Classifiers/Video/MovinetClassifier.php">
    <InvalidScalarArgument occurrences="1">
      <code>time()</code>
    </InvalidScalarArgument>
    <MixedArgument occurrences="1">
      <code>$queueFile-&gt;getFileId()</code>
    </MixedArgument>
    <MixedAssignment occurrences="1">
      <code>$queueFile</code>
    </MixedAssignment>
    <MixedMethodCall occurrences="1">
      <code>getFileId</code>
    </MixedMethodCall>
  </file>
  <file src="lib/Controller/AdminController.php">
    <MissingParamType occurrences="1">
      <code>$value</code>
    </MissingParamType>
    <MixedArgument occurrences="1">
      <code>$value</code>
    </MixedArgument>
    <MixedArgumentTypeCoercion occurrences="3">
      <code>$output</code>
      <code>$output</code>
      <code>$output</code>
    </MixedArgumentTypeCoercion>
    <MixedArrayAccess occurrences="1">
      <code>$lscpu['lscpu']</code>
    </MixedArrayAccess>
    <MixedAssignment occurrences="1">
      <code>$lscpu</code>
    </MixedAssignment>
  </file>
  <file src="lib/Dav/Faces/FacePhoto.php">
    <UndefinedClass occurrences="1">
      <code>IFile</code>
    </UndefinedClass>
  </file>
  <file src="lib/Dav/Faces/FaceRoot.php">
    <UndefinedClass occurrences="1">
      <code>ICollection</code>
    </UndefinedClass>
  </file>
  <file src="lib/Dav/Faces/FacesHome.php">
    <UndefinedClass occurrences="1">
      <code>ICollection</code>
    </UndefinedClass>
  </file>
  <file src="lib/Dav/Faces/PropFindPlugin.php">
    <UndefinedClass occurrences="1">
      <code>ServerPlugin</code>
    </UndefinedClass>
  </file>
  <file src="lib/Dav/RecognizeHome.php">
    <UndefinedClass occurrences="1">
      <code>ICollection</code>
    </UndefinedClass>
  </file>
  <file src="lib/Dav/RootCollection.php">
    <UndefinedClass occurrences="1">
      <code>AbstractPrincipalCollection</code>
    </UndefinedClass>
  </file>
  <file src="lib/Db/FaceCluster.php">
    <MissingPropertyType occurrences="2">
      <code>$title</code>
      <code>$userId</code>
    </MissingPropertyType>
    <MixedAssignment occurrences="1">
      <code>$array[$field]</code>
    </MixedAssignment>
  </file>
  <file src="lib/Db/FaceClusterMapper.php">
    <LessSpecificReturnStatement occurrences="3">
      <code>$this-&gt;findEntities($qb)</code>
      <code>$this-&gt;findEntities($qb)</code>
      <code>$this-&gt;findEntity($qb)</code>
    </LessSpecificReturnStatement>
    <MoreSpecificReturnType occurrences="3">
      <code>FaceCluster</code>
      <code>list&lt;\OCA\Recognize\Db\FaceCluster&gt;</code>
      <code>list&lt;\OCA\Recognize\Db\FaceCluster&gt;</code>
    </MoreSpecificReturnType>
  </file>
  <file src="lib/Db/FaceDetection.php">
    <MissingPropertyType occurrences="9">
      <code>$clusterId</code>
      <code>$fileId</code>
      <code>$height</code>
      <code>$threshold</code>
      <code>$userId</code>
      <code>$vector</code>
      <code>$width</code>
      <code>$x</code>
      <code>$y</code>
    </MissingPropertyType>
    <MixedAssignment occurrences="1">
      <code>$array[$field]</code>
    </MixedAssignment>
  </file>
  <file src="lib/Db/FaceDetectionMapper.php">
    <LessSpecificReturnStatement occurrences="6">
      <code>$this-&gt;findEntities($qb)</code>
      <code>$this-&gt;findEntities($qb)</code>
      <code>$this-&gt;findEntities($qb)</code>
      <code>$this-&gt;findEntities($qb)</code>
      <code>$this-&gt;findEntity($qb)</code>
      <code>$this-&gt;findEntity($qb)</code>
    </LessSpecificReturnStatement>
    <MoreSpecificReturnType occurrences="6">
      <code>FaceDetection</code>
      <code>FaceDetection</code>
      <code>list&lt;\OCA\Recognize\Db\FaceDetection&gt;</code>
      <code>list&lt;\OCA\Recognize\Db\FaceDetection&gt;</code>
      <code>list&lt;\OCA\Recognize\Db\FaceDetection&gt;</code>
      <code>list&lt;\OCA\Recognize\Db\FaceDetectionWithTitle&gt;</code>
    </MoreSpecificReturnType>
  </file>
  <file src="lib/Db/FaceDetectionWithTitle.php">
    <MissingPropertyType occurrences="1">
      <code>$title</code>
    </MissingPropertyType>
  </file>
  <file src="lib/Db/QueueFile.php">
    <MissingPropertyType occurrences="5">
      <code>$fileId</code>
      <code>$id</code>
      <code>$rootId</code>
      <code>$storageId</code>
      <code>$update</code>
    </MissingPropertyType>
    <MixedAssignment occurrences="1">
      <code>$array[$field]</code>
    </MixedAssignment>
  </file>
  <file src="lib/Db/QueueMapper.php">
    <FalsableReturnStatement occurrences="1">
      <code>$result-&gt;fetchOne()</code>
    </FalsableReturnStatement>
    <LessSpecificReturnStatement occurrences="1">
      <code>$this-&gt;findEntities($qb)</code>
    </LessSpecificReturnStatement>
    <MixedInferredReturnType occurrences="1">
      <code>int</code>
    </MixedInferredReturnType>
    <MixedReturnStatement occurrences="1">
      <code>$result-&gt;fetchOne()</code>
    </MixedReturnStatement>
    <MoreSpecificReturnType occurrences="1">
      <code>list&lt;\OCA\Recognize\Db\QueueFile&gt;</code>
    </MoreSpecificReturnType>
  </file>
  <file src="lib/Helper/Archive.php">
    <MissingParamType occurrences="1">
      <code>$source</code>
    </MissingParamType>
  </file>
  <file src="lib/Helper/TAR.php">
    <MissingParamType occurrences="2">
      <code>$path</code>
      <code>$tmpFile</code>
    </MissingParamType>
    <MissingPropertyType occurrences="3">
      <code>$cachedHeaders</code>
      <code>$fileList</code>
      <code>$path</code>
    </MissingPropertyType>
    <MissingReturnType occurrences="1">
      <code>getHeader</code>
    </MissingReturnType>
    <MixedArgument occurrences="4">
      <code>$path</code>
      <code>$this-&gt;path</code>
      <code>$tmpFile</code>
      <code>$tmpFile</code>
    </MixedArgument>
    <MixedArrayAccess occurrences="7">
      <code>$header['filename']</code>
      <code>$header['filename']</code>
      <code>$header['filename']</code>
      <code>$header['filename']</code>
      <code>$header['filename']</code>
      <code>$stat['mtime']</code>
      <code>$stat['size']</code>
    </MixedArrayAccess>
    <MixedAssignment occurrences="8">
      <code>$files[]</code>
      <code>$header</code>
      <code>$header</code>
      <code>$result</code>
      <code>$stat</code>
      <code>$stat</code>
      <code>$this-&gt;tar</code>
      <code>$this-&gt;tar</code>
    </MixedAssignment>
    <MixedInferredReturnType occurrences="11">
      <code>?\PEAR_Error</code>
      <code>bool</code>
      <code>bool</code>
      <code>bool</code>
      <code>bool</code>
      <code>bool</code>
      <code>bool|resource</code>
      <code>int</code>
      <code>int</code>
      <code>list&lt;string&gt;</code>
      <code>string</code>
    </MixedInferredReturnType>
    <MixedReturnStatement occurrences="7">
      <code>$result</code>
      <code>$stat['mtime']</code>
      <code>$stat['size']</code>
      <code>$this-&gt;fileList</code>
      <code>$this-&gt;tar-&gt;extract($dest)</code>
      <code>$this-&gt;tar-&gt;extractInString($path)</code>
      <code>$this-&gt;tar-&gt;extractList($list, $path, $removePath, $symlinks)</code>
    </MixedReturnStatement>
    <MixedReturnTypeCoercion occurrences="1">
      <code>$files</code>
    </MixedReturnTypeCoercion>
    <PossiblyFalseArgument occurrences="2">
      <code>strrpos($file, '.')</code>
      <code>strrpos($path, '.')</code>
    </PossiblyFalseArgument>
    <PossiblyNullPropertyAssignmentValue occurrences="2">
      <code>null</code>
      <code>null</code>
    </PossiblyNullPropertyAssignmentValue>
    <RedundantConditionGivenDocblockType occurrences="2">
      <code>$this-&gt;tar</code>
      <code>$this-&gt;tar</code>
    </RedundantConditionGivenDocblockType>
    <UndefinedClass occurrences="4">
      <code>?\PEAR_Error</code>
      <code>\Archive_Tar</code>
      <code>\Archive_Tar</code>
      <code>\Archive_Tar</code>
    </UndefinedClass>
    <UndefinedDocblockClass occurrences="9">
      <code>$this-&gt;tar</code>
      <code>$this-&gt;tar</code>
      <code>$this-&gt;tar</code>
      <code>$this-&gt;tar</code>
      <code>$this-&gt;tar</code>
      <code>$this-&gt;tar</code>
      <code>$this-&gt;tar</code>
      <code>\Archive_Tar</code>
      <code>private $tar = null;</code>
    </UndefinedDocblockClass>
  </file>
  <file src="lib/Migration/InstallDeps.php">
    <MixedArgument occurrences="2">
      <code>$item-&gt;getPathname()</code>
      <code>$item-&gt;getPathname()</code>
    </MixedArgument>
    <MixedArgumentTypeCoercion occurrences="7">
      <code>$output</code>
      <code>$output</code>
      <code>$output</code>
      <code>$output</code>
      <code>$output</code>
      <code>$output</code>
      <code>$output</code>
    </MixedArgumentTypeCoercion>
    <MixedAssignment occurrences="2">
      <code>$item</code>
      <code>$item</code>
    </MixedAssignment>
    <MixedMethodCall occurrences="2">
      <code>getPathname</code>
      <code>getPathname</code>
    </MixedMethodCall>
    <PossiblyUndefinedVariable occurrences="2">
      <code>$output</code>
      <code>$returnCode</code>
    </PossiblyUndefinedVariable>
  </file>
  <file src="lib/Service/DownloadModelsService.php">
    <MixedArgument occurrences="2">
      <code>$file-&gt;getRealPath()</code>
      <code>$file-&gt;getRealPath()</code>
    </MixedArgument>
    <MixedArrayAccess occurrences="1">
      <code>$packageJson['version']</code>
    </MixedArrayAccess>
    <MixedAssignment occurrences="2">
      <code>$file</code>
      <code>$packageJson</code>
    </MixedAssignment>
    <MixedInferredReturnType occurrences="1">
      <code>string</code>
    </MixedInferredReturnType>
    <MixedMethodCall occurrences="3">
      <code>getRealPath</code>
      <code>getRealPath</code>
      <code>isDir</code>
    </MixedMethodCall>
    <MixedReturnStatement occurrences="1">
      <code>$packageJson['version']</code>
    </MixedReturnStatement>
  </file>
  <file src="lib/Service/FaceClusterAnalyzer.php">
    <ArgumentTypeCoercion occurrences="1">
      <code>$results</code>
    </ArgumentTypeCoercion>
    <InternalMethod occurrences="1">
      <code>compute</code>
    </InternalMethod>
    <RedundantConditionGivenDocblockType occurrences="1">
      <code>$detection-&gt;getClusterId() !== null</code>
    </RedundantConditionGivenDocblockType>
  </file>
  <file src="lib/Service/StorageService.php">
    <RedundantCastGivenDocblockType occurrences="2">
      <code>(int)$row['root_id']</code>
      <code>(int)$row['storage_id']</code>
    </RedundantCastGivenDocblockType>
  </file>
</files>
